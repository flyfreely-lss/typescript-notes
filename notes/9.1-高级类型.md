# é«˜çº§ç±»å‹

## 1 äº¤å‰ç±»å‹
å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ AâˆªBã€‚ç±»ä¼¼äº Javascript ä¸­çš„ Mixinï¼ˆæ··å…¥ï¼‰æ¨¡å¼ã€‚

```typescript
function mixin<T, U>(first: T, second: U): T & U {
    const result = <T & U>{};
    for (const id in first) {
        (<T>result)[id] = first[id];
    }
    for (const id in second) {
        if (!Object.prototype.hasOwnProperty.call(result, id)) {
            (<U>result)[id] = second[id];
        }
    }
    return result;
}
const obj = mixin({a: 'Jack'}, {b: 'Lisa'});
// obj æ‹¥æœ‰äº†å±æ€§ a å’Œ b
console.log(obj.a, obj.b);
```

## 2 è”åˆç±»å‹
å¤šç§ç±»å‹ä¹‹ä¸€ A|Bã€‚

è”åˆç±»å‹ä½¿ç”¨ `|` ä½œä¸ºæ ‡è®°ï¼Œå¦‚ï¼š`string | number`ã€‚

### å¯è¾¨è¯†è”åˆç±»å‹
```typescript
interface Info {
    username: string
}
type UserAction = {
    id: number
    action: 'delete'
    info: Info
} | {
    action: 'create',
    info: Info
};

const useReducer = (userAction: UserAction) => {
    switch(userAction.action) {
        case 'delete':
            console.log(userAction.id);
            break;
        default: 
            break;
    }
}
```
ä¸Šè¿°ä»£ç ä¸­ï¼Œ`UserAction`æ˜¯ç”±ä¸¤ä¸ª`ç±»å‹å­—é¢é‡`è”åˆè€Œæˆçš„ã€‚ `userAction.action`æ˜¯**å¯è¾¨è¯†çš„æ ‡ç­¾**ã€‚å¯è¾¨è¯†è”åˆç±»å‹çš„ä½¿ç”¨åœºæ™¯éå¸¸é€‚ç”¨äº Redux çš„é‚£äº›æ ·æ¿ä»£ç ã€‚

## 3 ç´¢å¼•ç±»å‹
åœºæ™¯éœ€æ±‚ï¼šéœ€è¦ä¸€ä¸ª pick å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥ä»å¯¹è±¡ä¸Šå–å‡ºæŒ‡å®šçš„å±æ€§çš„å€¼ï¼š
```typescript
const user = {
    username: 'Jessica Lee',
    id: 460000201904141743,
    token: '460000201904141743',
    avatar: 'http://dummyimage.com/200x200',
    role: 'vip'
}

function pick<T, K extends keyof T>(o: T, names: Array<K>): T[K][] {
    return names.map(name => o[name]);
}
console.log(pick(user, ['username', 'id']));
// è¾“å‡º [ 'Jessica Lee', 460000201904141760 ]
```
ä¸Šè¿°ä»£ç ä¸­ï¼Œå…³é”®ç‚¹ï¼š
- ç´¢å¼•ç±»å‹æŸ¥è¯¢æ“ä½œç¬¦ `keyof` 
- ç´¢å¼•è®¿é—®æ“ä½œç¬¦ `T[K]`

## 4 æ˜ å°„ç±»å‹
åœºæ™¯éœ€æ±‚ï¼šæœ‰ä¸€ä¸ªUseræ¥å£ï¼Œç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯æŠŠUseræ¥å£ä¸­çš„æˆå‘˜å…¨éƒ¨å˜æˆå¯é€‰çš„ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšï¼Ÿ
```typescript
interface User {
    username: string
    id: number
    token: string
    avatar: string
    role: string
}
type partial<T> = { [K in keyof T]?: T[K] }
type partialUser = partial<User>;
// partialUser æ‰€æœ‰çš„å±æ€§éƒ½å˜æˆäº†å¯é€‰ç±»å‹
```
ä¸Šè¿°ä»£ç ä½¿ç”¨æ˜ å°„ç±»å‹å®ç°äº†éœ€æ±‚ï¼Œ**æ˜ å°„ç±»å‹**çš„è¯­æ³•æ˜¯`[K in Keys]`:
- Kï¼šç±»å‹å˜é‡ï¼Œä¾æ¬¡ç»‘å®šåˆ°æ¯ä¸ªå±æ€§ä¸Šï¼Œå¯¹åº”æ¯ä¸ªå±æ€§åçš„ç±»å‹
- Keysï¼šå­—ç¬¦ä¸²å­—é¢é‡æ„æˆçš„è”åˆç±»å‹ï¼Œè¡¨ç¤ºä¸€ç»„å±æ€§åï¼ˆçš„ç±»å‹ï¼‰

## 5 ç±»å‹åˆ«å

### 5.1  æ¦‚å¿µå’Œä¾‹å­
ç±»å‹åˆ«åä¼šç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—,å¯ä»¥ä½œç”¨äºåŸå§‹å€¼ã€è”åˆç±»å‹ã€å…ƒç»„ä»¥åŠå…¶å®ƒä»»ä½•ä½ éœ€è¦æ‰‹å†™çš„ç±»å‹ã€‚

è¯­æ³•ï¼š`type SomeName = someValidTypeAnnotation`

ä¸€äº›ä¾‹å­ğŸŒ°ï¼š
```typescript
type some = boolean | string // ç±»å‹åˆ«åå¯ä»¥æ˜¯åŸºæœ¬ç±»å‹
const b: some = true // ok
const c: some = 'hello' // ok
const d: some = 123 // ä¸èƒ½å°†ç±»å‹â€œ123â€åˆ†é…ç»™ç±»å‹â€œsomeâ€

type Container<T> = { // ç±»å‹åˆ«åå¯ä»¥æ˜¯æ³›å‹
    value: T;
    left: Container<T> // ç±»å‹åˆ«åå¯ä»¥åœ¨å±æ€§é‡Œå¼•ç”¨è‡ªå·±
};
```

### 5.2 ç±»å‹åˆ«åå’Œæ¥å£åŒºåˆ«
`interface` åªèƒ½ç”¨äºå®šä¹‰å¯¹è±¡ç±»å‹ï¼Œè€Œ type çš„å£°æ˜æ–¹å¼é™¤äº†å¯¹è±¡ä¹‹å¤–è¿˜å¯ä»¥å®šä¹‰äº¤å‰ã€è”åˆã€åŸå§‹ç±»å‹ç­‰ï¼Œç±»å‹åˆ«åçš„æ–¹å¼é€‚ç”¨èŒƒå›´æ˜¾ç„¶æ›´åŠ å¹¿æ³›ã€‚

interfaceä¹Ÿæœ‰å…¶ç‰¹å®šçš„ç”¨å¤„ï¼š
- interface æ–¹å¼å¯ä»¥å®ç°æ¥å£çš„ extends å’Œ implements
- interface å¯ä»¥å®ç°æ¥å£åˆå¹¶å£°æ˜
```typescript
type Alias = { num: number }
interface Interface {
    num: number;
}
declare function aliased(arg: Alias): Alias;
declare function interfaced(arg: Interface): Interface;
```

## 6 æ¡ä»¶ç±»å‹
å‚è€ƒ9.2 é«˜çº§ç±»å‹ä¹‹æ¡ä»¶ç±»å‹ã€‚